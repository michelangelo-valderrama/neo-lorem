---
import type { HTMLAttributes } from 'astro/types'

export interface ToLocaleDateStringConfig {
  month?: 'numeric' | '2-digit' | undefined | 'short' | 'long' | 'narrow'
  day?: 'numeric' | '2-digit' | undefined
  year?: 'numeric' | '2-digit' | undefined
}

interface Props extends HTMLAttributes<'time'> {
  date: Date
  config?: ToLocaleDateStringConfig
}

const {
  date,
  config = {
    month: 'short',
    day: '2-digit',
    year: 'numeric',
  },
  datetime,
  ...attrs
} = Astro.props
---

<time datetime={date.toISOString()} {...attrs}>
  {date.toLocaleDateString('es-ES', config)}
</time>
